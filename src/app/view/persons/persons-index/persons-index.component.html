<div class="d-flex flex-wrap align-items-baseline">
  <h2>People</h2>

  <!--Add country and city name in title-->
  <h4 *ngIf="personsFiltered.items && (personsService.activeCountryId != 0 && personsService.activeCityId != 0)"
      class="ms-2">from {{personsFiltered.items[0].country_name}}, {{personsFiltered.items[0].city_name}}</h4>

  <!--Add country name in title -->
  <h4 *ngIf="personsFiltered.items && (personsService.activeCountryId != 0 && personsService.activeCityId == 0)"
      class="ms-2">from {{personsFiltered.items[0].country_name}}</h4>
</div>

<!--Filters-->
<h5>Filters</h5>
<div class="d-flex flex-wrap align-items-baseline mb-2 rounded border p-2">
  <!--Filter gender-->
  <div class="d-flex flex-column me-3 p-2 border rounded">
    <div class="d-flex flex-wrap justify-content-between w-100">
      <div class="mb-2">Gender</div>
      <div class="btn btn-close"
           (click)="genderSelected='All'; updateGenderFilter()"
           *ngIf="genderSelected != 'All'"></div>
    </div>

    <div class="d-flex flex-wrap">
      <div class="col-auto me-2">
        <input type="radio"
               (change)="updateGenderFilter()"
               [(ngModel)]="genderSelected"
               value="All"
               id="gender-all"
               class="btn-check">
        <label for="gender-all" class="btn btn-outline-secondary btn-sm">All</label>
      </div>

      <div class="col-auto me-2">
        <input type="radio"
               (change)="updateGenderFilter()"
               [(ngModel)]="activeGenderFilter"
               value="Male"
               id="gender-male"
               class="form-check-input">
        <label for="gender-male" class="form-check-label">Male</label>
      </div>

      <div class="form-check col-auto">
        <input type="radio"
               (change)="updateGenderFilter()"
               [(ngModel)]="activeGenderFilter"
               value="Female"
               id="gender-female"
               class="form-check-input">
        <label for="gender-female" class="form-check-label">Female</label>
      </div>
    </div>
  </div>
  <!--End Filter gender-->

  <!--Filter age-->
  <div class="d-flex flex-column align-items-baseline bg-white p-2 border rounded">
    <div>Age</div>
    <div class="d-flex flex-wrap">
      <div class="me-2">
        <select class="form-select" [(ngModel)]="ageFromSelected" name="ageFromSelected"
                (change)="updateAgeRange()">
          <option *ngFor="let age of ageRange" [ngValue]="age">{{age}}</option>
        </select>
      </div>

      <div class="">
        <select class="form-select" [(ngModel)]="ageToSelected" name="ageToSelected"
                (change)="updateAgeRange()">
          <option *ngFor="let age of ageRangeFiltered" [ngValue]="age">{{age}}</option>

        </select>
      </div>
    </div>
  </div>
  <!--End Filter age-->
</div>
<!--End Filters-->


<div class="persons-block d-flex flex-wrap mb-3" *ngIf="!loading && personsFiltered?.items">
  <div class="person-card" *ngFor="let person of personsFiltered?.items">
    <app-person-card [person]="person" [path]="host"></app-person-card>
  </div>
</div>

<!--If no persons and loading is over-->
<div *ngIf="!persons?.items && !loading && !timeId">No persons</div>

<!--Show preloader while fetching a data-->
<div *ngIf="loading" class="d-flex flex-wrap">
  <div class="col-6 col-lg-3 col-xl-2 px-3 my-2" *ngFor="let person of [1,2,3,4,5,6,7,8,9,10,11,12]">
    <app-person-card-placeholder></app-person-card-placeholder>
  </div>
</div>


<app-pagination
  (click)="scrollToTop()"
  *ngIf="persons && persons.pagination && persons.pagination.last_page > 1"
  [pagination]="persons.pagination"
  [route]="paginatedRoute"></app-pagination>




